(this["webpackJsonprobot-movement"]=this["webpackJsonprobot-movement"]||[]).push([[0],{185:function(e,i,t){},187:function(e,i,t){},244:function(e,i,t){"use strict";t.r(i);var n=t(1),a=t.n(n),r=t(24),s=t.n(r),o=(t(185),t(186),t(187),t(188),t(120)),c=t(38),h=t(110),l=t(29),d=t(13),u=t(6),p=t(247),g=t(9),v=t(15),b=t(37),f=t(248),y=function e(i,t){var n=this;Object(g.a)(this,e),this.drawManager=i,this.solution=t,this.drawSolution=function(){var e=n.solution;if(!Object(b.isUndefined)(e)){var i=e.graph,t=e.soln;t.explorationOrder.forEach((function(e,t){setTimeout((function(){n.drawManager.glowEdge(i.vertices.get(e.v1),i.vertices.get(e.v2))}),60*t)})),setTimeout((function(){return n.drawManager.drawSolution(t.solution.map((function(e){return i.vertices.get(e)})))}),60*t.explorationOrder.length)}}},x=function e(){Object(g.a)(this,e),this.adjecent=new Map,this.vertices=new Map},w=function(){function e(i,t,n,a,r){var s=this;Object(g.a)(this,e),this.drawManager=i,this.solver=t,this.obstaclesController=n,this.canvas=a,this.setActions=r,this.squareSize=50,this.gridWidth=this.canvas.width/this.squareSize,this.gridHeight=this.canvas.height/this.squareSize,this.solutionController=void 0,this.availablityGrid=Array(this.gridWidth).fill(0).map((function(){return Array(s.gridHeight).fill(void 0)})),this.drawSolution=function(){var e;null===(e=s.solutionController)||void 0===e||e.drawSolution()},this.initializeGrid=function(){s.overGrid((function(e,i){return s.drawDelayedSquare(e,i,(e+i)%2?"initial":"initialDark")})),s.setActions([{name:"Show Accessible Squares",fn:s.computeAccessibleSquares}])},this.overGrid=function(e){for(var i=0;i<s.gridWidth;i++)for(var t=0;t<s.gridHeight;t++)e(i,t)},this.computeAccessibleSquares=function(){s.overGrid((function(e,i){var t=!s.obstaclesController.hitsAnyObstacle({position:{x:e,y:i},dimensions:{x:1,y:1}});s.drawDelayedSquare(e,i,t?(e+i)%2?"accessible":"accessibleDark":"inaccessible"),s.availablityGrid[e][i]=t?Object(f.a)():void 0})),s.setActions([{name:"Compute Graph",fn:s.drawGraph}])},this.drawGraph=function(){var e=new x;s.overGrid((function(i,t){s.addNeighboursToGraph(i,t,s.availablityGrid,e)})),s.drawManager.drawGraph(e),s.solutionController=new y(s.drawManager,{graph:e,soln:s.solver.solve(e,s.availablityGrid[0][0],s.availablityGrid[s.gridWidth-1][s.gridHeight-1])}),s.setActions([{name:"Compute Solution",fn:s.drawSolution}])},this.drawDelayedSquare=function(e,i,t){setTimeout((function(){return s.drawManager.DrawSquare({type:t,position:{x:e*s.squareSize,y:i*s.squareSize},size:s.squareSize})}),20*Math.sqrt(e*e+i*i))},this.obstaclesController.drawObstacles(),r([{name:"Show Grid",fn:this.initializeGrid}])}return Object(v.a)(e,[{key:"addNeighboursToGraph",value:function(e,i,t,n){var a=t[e][i];if(!Object(b.isUndefined)(a)){n.vertices.set(a,{x:(e+.5)*this.squareSize,y:(i+.5)*this.squareSize});var r=[],s=function(e,i){var n=t[e][i];Object(b.isUndefined)(n)||r.push(n)};e>0&&s(e-1,i),i>0&&s(e,i-1),e<this.gridWidth-1&&s(e+1,i),i<this.gridHeight-1&&s(e,i+1),n.adjecent.set(a,r)}}}]),e}();w.provider={get:function(e,i,t,n,a){return new w(e,i,t,n,a)},name:"Grid"};var O=function e(i,t,n,a,r){var s=this;Object(g.a)(this,e),this.drawManager=i,this.solver=t,this.obstaclesController=n,this.canvas=a,this.setActions=r,this.graph=new x,this.pos1={x:225,y:75},this.pos2={x:75,y:475},this.pos3={x:525,y:125},this.pos4={x:525,y:475},this.moveTo=function(e){s.drawManager.moveHero(s.graph.vertices.get(e)),s.setActions(s.graph.adjecent.get(e).map((function(e){return{name:"Move to ".concat(e),fn:function(){return s.moveTo(e)}}})))},this.drawGraph=function(){s.drawManager.drawGraph(s.graph)},this.drawObstacles=function(){s.obstaclesController.drawObstacles()},this.drawObstacles(),this.graph.vertices.set("h",this.canvas.heroPosition),this.graph.vertices.set("p",this.canvas.princessPosition),this.graph.vertices.set("1",this.pos1),this.graph.vertices.set("2",this.pos2),this.graph.vertices.set("3",this.pos3),this.graph.vertices.set("4",this.pos4),this.graph.adjecent.set("h",["1"]),this.graph.adjecent.set("1",["h","2","3","4"]),this.graph.adjecent.set("2",["1"]),this.graph.adjecent.set("3",["1","4","p"]),this.graph.adjecent.set("4",["1","3","p"]),this.graph.adjecent.set("p",["4","3"]),this.moveTo("h"),this.drawGraph()};O.provider={get:function(e,i,t,n,a){return new O(e,i,t,n,a)},name:"Lesson"};var j=function(e){return function(i){return i.x>=0&&i.x<=e.width&&i.y>=0&&i.y<=e.height}},m=function(){function e(i,t,n){var a=this;Object(g.a)(this,e),this.drawManager=i,this.obstaclesController=t,this.canvas=n,this.expandedObstacles=[],this.init=function(){a.obstaclesController.obstacles.forEach((function(e){var i=a.obstaclesController.expandObstacleForDrawing(e),t={position:{x:i.position.x-a.canvas.heroSize,y:i.position.y-a.canvas.heroSize},size:{x:i.size.x+2*a.canvas.heroSize,y:i.size.y+2*a.canvas.heroSize}};a.expandedObstacles.push(t)}))},this.draw=function(){a.drawManager.drawObstacleUnavailable(a.expandedObstacles)},this.hitsAny=function(e){var i=!1;return a.expandedObstacles.forEach((function(t){i=i||a.hitsObstacle(e,t)})),i},this.hitsObstacle=function(e,i){return!(e.x<i.position.x||e.x>i.position.x+i.size.x||e.y<i.position.y||e.y>i.position.y+i.size.y)},this.init()}return Object(v.a)(e,[{key:"all",get:function(){return this.expandedObstacles}}]),e}(),C=function e(){var i=this;Object(g.a)(this,e),this.ge=function(e,i){return e-i>-1e-6},this.intresectsLine=function(e,t,n){var a=n.position,r=n.size,s=Math.min(e.x,t.x),o=Math.max(e.x,t.x);if(i.ge(n.position.x,o)||i.ge(s,n.position.x+n.size.x))return!1;o=Math.min(o,a.x+r.x),s=Math.max(s,a.x);var c=e.y,h=t.y,l=t.x-e.x;if(Math.abs(l)>1e-7){var d=(t.y-e.y)/l,u=e.y-d*e.x;c=d*s+u,h=d*o+u}if(c>h){var p=h;h=c,c=p}return!i.ge(n.position.y,h)&&!i.ge(c,n.position.y+n.size.y)&&(console.log("Intersection",e,t,n),!0)}},S=function e(i,t,n,a,r){var s=this;Object(g.a)(this,e),this.drawManager=i,this.solver=t,this.obstaclesController=n,this.canvas=a,this.setActions=r,this.intersectionCalc=new C,this.expandedObstacles=void 0,this.showInaccessible=function(){s.expandedObstacles.draw(),s.setActions([{name:"Draw Graph",fn:s.computeSolution}])},this.drawObstacles=function(){s.obstaclesController.drawObstacles()},this.computeSolution=function(){for(var e=s.expandedObstacles.all.flatMap((function(e){var i=e.position,t=e.size;return[{x:i.x,y:i.y},{x:i.x,y:i.y+t.y},{x:i.x+t.x,y:i.y},{x:i.x+t.x,y:i.y+t.y}]})).concat([s.canvas.heroPosition,s.canvas.princessPosition]).filter(j(s.canvas)),i=new x,t=0;t<e.length;t++)i.vertices.set(t.toString(),e[t]),i.adjecent.set(t.toString(),[]);for(var n=0;n<e.length;++n)for(var a=0;a<e.length;++a){var r,o;if(s.isViableLine(e[n],e[a]))null===(r=i.adjecent.get(n.toString()))||void 0===r||r.push(a.toString()),null===(o=i.adjecent.get(a.toString()))||void 0===o||o.push(n.toString())}s.drawManager.drawGraph(i);var c=new y(s.drawManager,{graph:i,soln:s.solver.solve(i,(e.length-2).toString(),(e.length-1).toString())});s.setActions([{name:"Compute Solution",fn:c.drawSolution}])},this.isViableLine=function(e,i){var t=!0;return s.expandedObstacles.all.forEach((function(n){t=t&&!s.intersectionCalc.intresectsLine(e,i,n)})),t},this.drawObstacles(),this.expandedObstacles=new m(i,n,a),r([{name:"Show Inccessible Area",fn:this.showInaccessible}])};S.provider={get:function(e,i,t,n,a){return new S(e,i,t,n,a)},name:"Visibility Graph"};var G=t(47),L=t(111),M=t.n(L),k=function e(i,t,n,a,r){var s=this;Object(g.a)(this,e),this.drawManager=i,this.solver=t,this.obstaclesController=n,this.canvas=a,this.setActions=r,this.solutionController=void 0,this.expandedObstacles=void 0,this.showExpandedObstacles=function(){s.expandedObstacles.draw(),s.setActions([{name:"Show Graph",fn:s.drawGraph}])},this.drawSolution=function(){var e;null===(e=s.solutionController)||void 0===e||e.drawSolution()},this.drawGraph=function(){var e=new x,i=function(e,i){for(var t=[],n=1;n<=19;n++)t.push([e.x+i.x/20*n,e.y]),t.push([e.x+i.x/20*n,e.y+i.y]),t.push([e.x,e.y+i.y/20*n]),t.push([e.x+i.x,e.y+i.y/20*n]);return t},t=s.expandedObstacles.all.flatMap((function(e){var t=e.position,n=e.size;return i(t,n)}));t.push.apply(t,Object(G.a)(i({x:0,y:0},{x:900,y:600}))),t.push.apply(t,Object(G.a)(s.expandPoint(s.canvas.heroPosition))),t.push.apply(t,Object(G.a)(s.expandPoint(s.canvas.princessPosition)));var n=M()(t),a=j(s.canvas);n.positions.forEach((function(i,t){var n={x:i[0],y:i[1]};!s.expandedObstacles.hitsAny(n)&&a(n)&&(e.vertices.set(t.toString(),{x:i[0],y:i[1]}),e.adjecent.set(t.toString(),[]))})),n.cells.forEach((function(i){for(var t=0;t<i.length;t++){var n,a,r=i[(t+1)%i.length],s=i[t];if(-1!==s&&-1!==r&&!Object(b.isUndefined)(e.vertices.get(s.toString()))&&!Object(b.isUndefined)(e.vertices.get(r.toString())))null===(n=e.adjecent.get(s.toString()))||void 0===n||n.push(r.toString()),null===(a=e.adjecent.get(r.toString()))||void 0===a||a.push(s.toString())}})),s.drawManager.drawGraph(e),s.solutionController=new y(s.drawManager,{graph:e,soln:s.solver.solve(e,s.findIndex(s.canvas.heroPosition,n.positions).toString(),s.findIndex(s.canvas.princessPosition,n.positions).toString())}),s.setActions([{name:"Draw Solution",fn:s.drawSolution}])},this.findIndex=function(e,i){var t=-1,n=1e10;return i.forEach((function(i,a){var r=s.sqDist(e,{x:i[0],y:i[1]});r<n&&(t=a,n=r)})),t},this.sqDist=function(e,i){var t=e.x-i.x,n=e.y-i.y;return t*t+n*n},this.expandPoint=function(e){var i=e.x,t=e.y;return[[i-.1,t-.1],[i-.1,t+.1],[i+.1,t-.1],[i+.1,t+.1]]},this.obstaclesController.drawObstacles(),this.expandedObstacles=new m(i,n,a),r([{name:"Show Expanded Obstacles",fn:this.showExpandedObstacles}])};k.provider={get:function(e,i,t,n,a){return new k(e,i,t,n,a)},name:"Voronoi Diagram"};var z,E=[{name:"Empty",obstacles:[]},{name:"Maze",obstacles:[{position:{x:-1,y:1.5},dimensions:{x:10,y:1}},{position:{x:10.5,y:-1},dimensions:{x:.5,y:12}},{position:{x:1.3,y:4},dimensions:{x:1.2,y:5}},{position:{x:4.2,y:6.3},dimensions:{x:1.2,y:7}},{position:{x:2,y:4},dimensions:{x:10,y:1}},{position:{x:5,y:7},dimensions:{x:3.8,y:.3}},{position:{x:8,y:9.2},dimensions:{x:4,y:1.2}},{position:{x:15,y:2},dimensions:{x:1,y:12}}]},{name:"Bottom Hills",obstacles:[{position:{x:2.2,y:4.3},dimensions:{x:.7,y:10}},{position:{x:6.3,y:6.3},dimensions:{x:.4,y:6}},{position:{x:9,y:3},dimensions:{x:1,y:12}},{position:{x:12,y:7},dimensions:{x:2,y:12}}]},{name:"Simple",obstacles:[{position:{x:3.1,y:4.7},dimensions:{x:2.8,y:6}},{position:{x:7.45,y:4.2},dimensions:{x:2.5,y:1.23}},{position:{x:12.3,y:.1},dimensions:{x:1,y:8}}]}],F=t(112),q=function(){function e(){Object(g.a)(this,e),this.solve=function(e,i,t){var n=[],a=function(e,i){var t=e.x-i.x,n=e.y-i.y;return t*t+n*n},r=e.vertices.get(t),s=new Set,o=[],c=new F.PriorityQueue((function(i,t){var n=i.path[i.path.length-1],s=t.path[t.path.length-1],o=e.vertices.get(n),c=e.vertices.get(s);return a(c,r)-a(o,r)}));c.enqueue({path:[i]});for(var h=function(){var i=c.dequeue().path,a=i[i.length-1];if(a===t)return{v:{solution:i,explorationOrder:n}};s.has(a)||(i.length>1&&n.push({v1:i[i.length-2],v2:a}),s.add(a),o.push(a),e.adjecent.get(a).forEach((function(e){c.enqueue({path:i.concat([e])})})))};!c.isEmpty();){var l=h();if("object"===typeof l)return l.v}return console.log("Could not find solution",s),{solution:[],explorationOrder:n}}}return Object(v.a)(e,[{key:"name",get:function(){return"A-Star Solver"}}]),e}();!function(e){e.DFS="DFS",e.BFS="BFS"}(z||(z={}));var A=function(){function e(i,t){var n=this;Object(g.a)(this,e),this.randomizeOrder=i,this.mode=t,this.solve=function(e,i,t){for(var a=[],r=new Set,s=[],o=[{path:[i]}],c=function(){var i=(n.mode===z.BFS?o.shift():o.pop()).path,c=i[i.length-1];if(c===t)return{v:{solution:i,explorationOrder:a}};if(!r.has(c)){i.length>1&&a.push({v1:i[i.length-2],v2:c}),r.add(c),s.push(c);var h=e.adjecent.get(c);(n.randomizeOrder?Object(b.shuffle)(h):h).forEach((function(e){o.push({path:i.concat([e])})}))}};o.length>0;){var h=c();if("object"===typeof h)return h.v}return{solution:[],explorationOrder:a}}}return Object(v.a)(e,[{key:"name",get:function(){return"Classic ".concat(this.mode.toString()," ").concat(this.randomizeOrder?"Rand":"")}}]),e}(),D=t(8),T=function(){function e(i,t){var n=this;Object(g.a)(this,e),this.drawManager=i,this._obstacles=new Map,this.squareSize=50,this.drawObstacles=function(){n._obstacles.forEach((function(e,i){n.drawManager.drawObstacle(i,n.expandObstacleForDrawing(e))}))},this.expandObstacleForDrawing=function(e){return{position:{x:e.position.x*n.squareSize,y:e.position.y*n.squareSize},size:{x:e.dimensions.x*n.squareSize,y:e.dimensions.y*n.squareSize}}},this.hitsAnyObstacle=function(e){var i=!1;return n.obstacles.forEach((function(t){i=i||n.obstaclesIntersect(e,t)})),i},this.obstaclesIntersect=function(e,i){var t=e.position,n={x:e.position.x+e.dimensions.x,y:e.position.y+e.dimensions.y},a=i.position,r={x:i.position.x+i.dimensions.x,y:i.position.y+i.dimensions.y};return console.log("BB",t,n,a,r),t.x>=r.x||a.x>=n.x?(console.log("X1"),!1):!(t.y>=r.y||a.y>=n.y)||(console.log("X2"),!1)},this.initializeObstacles=function(e){n.obstacles.clear(),e.forEach((function(e){n.obstacles.set(Object(f.a)(),e)}))},this.initializeObstacles(t.obstacles)}return Object(v.a)(e,[{key:"obstacles",get:function(){return this._obstacles}}]),e}(),P=1054234,B=1581094,R=2701122,I=3162189,N=6058112,H=7571092,W=9083816,U=10991298,_=681536,V=1022304,X=14213608,Y=14805229,K=10904353,J=8212773,Q=11565894,Z=13211493,$=39308,ee=45988,ie=t(16),te=t(27),ne=t(5),ae=function(){function e(){var i=this;Object(g.a)(this,e),this.heroGroup=new D.Container,this.initHeroGraphic=function(){var e=D.Sprite.from("heroHead.png"),t=D.Sprite.from("heroHands.png");t.position.y=2,te.a.to(t,{pixi:{positionY:-3},duration:.5,repeat:-1,yoyo:!0});var n=new D.Graphics;n.beginFill(P).drawCircle(55,60,7),n.beginFill(P).drawCircle(99,60,5);te.a.to(n,{pixi:{positionX:-10},duration:2,repeat:-1,yoyo:!0,ease:ne.b.easeInOut}),i.heroGroup.addChild(e),i.heroGroup.addChild(t),i.heroGroup.addChild(n),i.heroGroup.scale.set(.58,.58),i.heroGroup.position.x=-43,i.heroGroup.position.y=-43},this.initHeroGraphic()}return Object(v.a)(e,[{key:"graphic",get:function(){return this.heroGroup}}]),e}(),re={border:H,borderShadow:R,borderStroke:R,background:Y,glowingGraphEdge:ee,solution:$,squareColors:{startsAt:N,initial:B,initialDark:I,accessible:_,accessibleDark:V,inaccessible:U},posCircle:{center:J,fill:Q},graphLine:Z,obstacle:{grayMain:X,highlights:H,shadow:R,color:W},shadowsColor:R},se=function(){function e(){Object(g.a)(this,e),this.mainLayer=new D.Container,this.shadowLayer=new D.Container}return Object(v.a)(e,null,[{key:"drawObstacle",value:function(e){var i=e.position,t=e.size,n=new D.Graphics;n.beginFill(re.obstacle.highlights).drawRoundedRect(2,2,t.x-4,t.y-10,10).beginFill(re.obstacle.grayMain).drawRoundedRect(2,2,t.x-4,t.y-9,10);return te.a.to(n,{pixi:{tint:re.obstacle.color},duration:2,repeat:0}),n.x=i.x,n.y=i.y,n}},{key:"drawObstacleEdge",value:function(e){var i=e.position,t=e.size,n=new D.Graphics;return n.beginFill(re.obstacle.shadow).drawRoundedRect(0,0,t.x,t.y,10),n.x=i.x,n.y=i.y,n}}]),e}();se.drawShadow=function(e){var i=e.position,t=e.size,n=new D.Graphics;return n.beginFill(re.shadowsColor).drawShape(new D.RoundedRectangle(i.x-5,i.y+5,t.x,t.y,10)),n.filters=[new D.filters.BlurFilter(4,1)],n.alpha=.3,n.blendMode=D.BLEND_MODES.MULTIPLY,n};var oe=function(){function e(){var i=this;Object(g.a)(this,e),this.princessContainer=new D.Container,this.initPrincessGraphic=function(){var e=D.Sprite.from("princessHead.png"),t=D.Sprite.from("princessFlag.png"),n=D.Sprite.from("princessDog.png");t.position.y=2,te.a.to(t,{pixi:{positionY:-3},duration:3,repeat:-1,yoyo:!0});var a=new D.Graphics;a.beginFill(P).drawCircle(27,102,2),a.beginFill(P).drawCircle(36,102,2);te.a.to(a,{pixi:{positionX:-5,positionY:-3},duration:2,repeat:-1,yoyo:!0,ease:ne.b.easeInOut}),i.princessContainer.addChild(e),i.princessContainer.addChild(t),i.princessContainer.addChild(n),i.princessContainer.addChild(a),i.princessContainer.scale.set(.58,.58),i.princessContainer.position.x=-43,i.princessContainer.position.y=-43},this.initPrincessGraphic()}return Object(v.a)(e,[{key:"graphic",get:function(){return this.princessContainer}}]),e}(),ce=function(){function e(i,t){var n=this;Object(g.a)(this,e),this.canvas=t,this.squareGraphics=new Map,this.obstacleGraphics=new Map,this.obstacleEdgeGraphics=new Map,this.shadowGraphics=new Map,this.backgroundLayer=new D.Container,this.gridLayer=new D.Container,this.graphLayer=new D.Container,this.solutionLayer=new D.Container,this.shadowLayer=new D.Container,this.obstacleLayer=new D.Container,this.heroContainer=new D.Container,this.princessLayer=new D.Container,this.obstacleEdgeLayer=new D.Container,this.hero=new ae,this.princess=new oe,this.moveHero=function(e){te.a.to(n.heroContainer,{pixi:Object(ie.a)({},e),duration:1,repeat:0})},this.initBackgroundLayer=function(){var e=new D.Graphics;e.beginFill(re.background).drawRect(-n.canvas.padding,-n.canvas.padding,n.canvas.width+2*n.canvas.padding,n.canvas.height+2*n.canvas.padding),n.backgroundLayer.addChild(e),n.backgroundLayer.cacheAsBitmap=!0;var i=n.getWallGraphic(re.obstacle.grayMain);i.tint=re.obstacle.color,n.obstacleLayer.addChild(i);var t=n.getWallGraphic(re.borderShadow);t.x=-2,t.y=-2;var a=n.getWallGraphic(re.borderShadow);a.x=2,a.y=2;var r=n.getWallGraphic(re.borderShadow);r.filters=[new D.filters.BlurFilter(3,1)],r.moveTo(-5,-5),r.blendMode=D.BLEND_MODES.DARKEN,n.shadowLayer.addChild(r),n.obstacleEdgeLayer.addChild(t),n.obstacleEdgeLayer.addChild(a)},this.getWallGraphic=function(e){var i=new D.Graphics;return i.lineStyle({width:n.canvas.padding-2,color:e}).moveTo(-n.canvas.padding/2,-n.canvas.padding/2).lineTo(-n.canvas.padding/2,n.canvas.height+n.canvas.padding/2).lineTo(n.canvas.width+n.canvas.padding/2,n.canvas.height+n.canvas.padding/2).lineTo(n.canvas.width+n.canvas.padding/2,-n.canvas.padding/2).lineTo(-n.canvas.padding,-n.canvas.padding/2),i},this.drawShadow=function(e,i){var t=se.drawShadow(i);n.replaceGraphic(e,n.shadowGraphics,n.shadowLayer,t)},this.glowEdge=function(e,i){var t=new D.Graphics;t.lineStyle(6,re.glowingGraphEdge),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.filters=[new D.filters.BlurFilter(2)],n.solutionLayer.addChild(t)},this.replaceGraphic=function(e,i,t,n){var a;null===(a=i.get(e))||void 0===a||a.destroy(),i.set(e,n),t.addChild(n)},this.drawGraph=function(e){n.graphLayer.removeChildren();var i=new Set;e.adjecent.forEach((function(t,a){t.forEach((function(t){var r,s,o=(s=t,(r=a).localeCompare(s)>0?r+s:s+r);i.has(o)||(i.add(o),n.renderGraphLine(e.vertices.get(a),e.vertices.get(t)))}))})),e.vertices.forEach((function(i,t){n.drawPosCircle(e.vertices.get(t))}))},this.drawObstacleUnavailable=function(e){n.gridLayer.removeChildren(),e.forEach((function(e){var i=(new D.Graphics).beginFill(16777215).drawShape(new D.RoundedRectangle(e.position.x,e.position.y,e.size.x,e.size.y,10));te.a.to(i,{pixi:{tint:re.squareColors.inaccessible},duration:1,repeat:0}),n.gridLayer.addChild(i)}))},i.stage.addChild(this.backgroundLayer),i.stage.addChild(this.gridLayer),i.stage.addChild(this.graphLayer),i.stage.addChild(this.solutionLayer),i.stage.addChild(this.shadowLayer),i.stage.addChild(this.obstacleEdgeLayer),i.stage.addChild(this.obstacleLayer),i.stage.addChild(this.heroContainer),i.stage.addChild(this.princessLayer),this.heroContainer.addChild(this.hero.graphic),this.princessLayer.addChild(this.princess.graphic),this.heroContainer.x=t.heroPosition.x,this.heroContainer.y=t.heroPosition.y,this.princessLayer.x=t.princessPosition.x,this.princessLayer.y=t.princessPosition.y,this.obstacleLayer.filters=[new D.filters.NoiseFilter(.09)],this.obstacleEdgeLayer.filters=[new D.filters.NoiseFilter(.09)],this.backgroundLayer.filters=[new D.filters.NoiseFilter(.03,3)],this.initBackgroundLayer()}return Object(v.a)(e,[{key:"drawObstacle",value:function(e,i){var t=se.drawObstacle(i);this.replaceGraphic(e,this.obstacleGraphics,this.obstacleLayer,t);var n=se.drawObstacleEdge(i);this.replaceGraphic(e,this.obstacleEdgeGraphics,this.obstacleEdgeLayer,n),this.drawShadow(e,i)}},{key:"drawSolution",value:function(e){this.solutionLayer.removeChildren();var i=new D.Graphics;i.lineStyle(10,re.solution),i.moveTo(e[0].x,e[0].y);for(var t=1;t<e.length;++t)i.lineTo(e[t].x,e[t].y);i.alpha=0,te.a.to(i,{pixi:{alpha:1},duration:2,repeat:0}),this.solutionLayer.addChild(i)}},{key:"drawPosCircle",value:function(e){var i=new D.Graphics;i.beginFill(re.posCircle.fill),i.drawCircle(e.x,e.y,7),i.beginFill(re.posCircle.center),i.drawCircle(e.x,e.y,3),this.graphLayer.addChild(i)}},{key:"renderGraphLine",value:function(e,i){var t=new D.Graphics;t.lineStyle(3,re.graphLine,.6),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),this.graphLayer.addChild(t)}},{key:"DrawSquare",value:function(e){var i,t=e.type,n=e.position,a=e.size;this.gridLayer.removeChild(this.squareGraphics.get(he(e.position))),null===(i=this.squareGraphics.get(he(e.position)))||void 0===i||i.destroy();var r=(new D.Graphics).beginFill(16777215).drawShape(new D.RoundedRectangle(n.x,n.y,a,a,10));switch(r.tint=re.squareColors.startsAt,t){case"inaccessible":r.alpha=1;break;case"accessible":case"accessibleDark":r.alpha=.1;break;case"initial":case"initialDark":r.alpha=.2}te.a.to(r,{pixi:{tint:re.squareColors[e.type]},duration:1,repeat:0}),this.squareGraphics.set(he(n),r),this.gridLayer.addChild(r)}}]),e}(),he=function(e){return"".concat(e.x," ").concat(e.y)},le=t(14),de=function(e){var i=Object(l.d)(e.actions);return Object(le.jsx)(p.b,{large:!0,children:i.map((function(e){var i=e.name,t=e.fn;return Object(le.jsx)(p.a,{onClick:t,children:i},i)}))})},ue={height:600,width:900,heroSize:25,heroPosition:{x:25,y:25},princessPosition:{x:875,y:575},padding:30},pe=Object(l.b)({key:"graphActions",default:[]}),ge=function(e){var i=Object(n.useRef)(null),t=Object(l.e)(pe);return Object(n.useEffect)((function(){var n=i.current;D.utils.skipHello();var a=new D.Application({width:ue.width+2*ue.padding,height:ue.height+2*ue.padding,backgroundColor:K,antialias:!0,resolution:2});a.stage.pivot.x=-ue.padding,a.stage.pivot.y=-ue.padding,a.view.className=function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return i.join(" ")}(ve,u.a.ELEVATION_3),n.appendChild(a.view),a.start();var r=new ce(a,ue),s=new T(r,e.obstacleSet);return e.controller.get(r,e.solver,s,ue,t),function(){for(var e in D.utils.BaseTextureCache)delete D.utils.BaseTextureCache[e];for(var i in D.utils.TextureCache)delete D.utils.TextureCache[i];n.removeChild(a.view),a.destroy(!0,!0)}}),[e,t]),Object(le.jsxs)("div",{children:[Object(le.jsx)("div",{ref:i}),Object(le.jsx)("header",{className:be,children:Object(le.jsx)(de,{actions:pe})})]})},ve=Object(c.b)({borderRadius:10,height:745,width:1100}),be=Object(c.b)({display:"flex",alignItems:"center",justifyContent:"center",padding:5}),fe=[new A(!0,z.DFS),new A(!0,z.BFS),new A(!1,z.BFS),new A(!1,z.DFS),new q],ye=[w.provider,k.provider,S.provider,O.provider],xe=Object(l.b)({key:"controllerProvider",default:w.provider}),we=Object(l.b)({key:"graphSolver",default:fe[0]}),Oe=Object(l.b)({key:"obstacleSet",default:E[0]}),je=function(){var e=Object(l.c)(xe),i=Object(d.a)(e,2),t=i[0],n=i[1],a=Object(l.c)(we),r=Object(d.a)(a,2),s=r[0],o=r[1],h=Object(l.c)(Oe),g=Object(d.a)(h,2),v=g[0],b=g[1];return Object(le.jsxs)("div",{className:Object(c.a)(me,u.a.DARK),children:[Object(le.jsxs)("div",{className:Se,children:[Object(le.jsx)("h3",{children:"Graph Type"}),Object(le.jsx)(p.b,{vertical:!0,minimal:!0,children:ye.map((function(e){return Object(le.jsx)(p.a,{active:t===e,onClick:function(){return n(e)},children:e.name},e.name)}))}),Object(le.jsx)("h3",{children:"Solver"}),Object(le.jsx)(p.b,{vertical:!0,minimal:!0,children:fe.map((function(e){return Object(le.jsx)(p.a,{active:s===e,onClick:function(){return o(e)},children:e.name},e.name)}))}),Object(le.jsx)("h3",{children:"Map"}),Object(le.jsx)(p.b,{vertical:!0,minimal:!0,children:E.map((function(e){return Object(le.jsx)(p.a,{active:v===e,onClick:function(){return b(e)},children:e.name},e.name)}))})]}),Object(le.jsx)("div",{className:Ce,children:Object(le.jsx)(ge,{solver:s,controller:t,obstacleSet:v},s.name+t.name+v.name)})]})},me=Object(c.b)({display:"flex",flex:1}),Ce=Object(c.b)({padding:20,display:"flex",justifyContent:"center",alignContent:"center",flex:1}),Se=Object(c.b)({width:200,padding:10});var Ge=Object(c.b)({display:"flex",height:"100%",width:"100%",backgroundColor:h.a.DARK_GRAY1}),Le=function(){return Object(le.jsx)(l.a,{children:Object(le.jsx)(o.a,{children:Object(le.jsx)("div",{className:Ge,children:Object(le.jsx)(je,{})})})})},Me=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,249)).then((function(i){var t=i.getCLS,n=i.getFID,a=i.getFCP,r=i.getLCP,s=i.getTTFB;t(e),n(e),a(e),r(e),s(e)}))},ke=t(79);te.a.registerPlugin(ke.a),ke.a.registerPIXI(D),s.a.render(Object(le.jsx)(a.a.StrictMode,{children:Object(le.jsx)(Le,{})}),document.getElementById("root")),Me()}},[[244,1,2]]]);
//# sourceMappingURL=main.564b35a8.chunk.js.map